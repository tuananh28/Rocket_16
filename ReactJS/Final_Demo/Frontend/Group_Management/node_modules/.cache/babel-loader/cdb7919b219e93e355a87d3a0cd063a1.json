{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Rocket_16\\\\ReactJS\\\\Final_Demo\\\\Frontend\\\\Group_Management\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Rocket_16\\\\ReactJS\\\\Final_Demo\\\\Frontend\\\\Group_Management\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport storage from '../Storage/Storage';\nvar axiosClient = axios.create({\n  baseURL: \"http://localhost:8080/api/v1\" // timeout: 5000, // default is `0` (no timeout)\n  // responseType: 'json'\n\n});\naxiosClient.interceptors.request.use( /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(config) {\n    var token;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // Handle token here ...\n            // if token exists then attach token\n            token = storage.getToken();\n\n            if (token !== null && token !== undefined) {\n              config.headers.Authorization = token;\n            }\n\n            return _context.abrupt(\"return\", config);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());\naxiosClient.interceptors.response.use(function (response) {\n  if (response && response.data !== undefined) {\n    // only get data\n    return response.data;\n  }\n\n  return response;\n}, function (error) {\n  // Handle errors\n  if (error.response) {\n    throw error.response;\n  } else if (error.request) {\n    throw error.request;\n  } else {\n    throw error;\n  }\n});\nexport default axiosClient;","map":{"version":3,"sources":["D:/Rocket_16/ReactJS/Final_Demo/Frontend/Group_Management/src/api/Api.js"],"names":["axios","storage","axiosClient","create","baseURL","interceptors","request","use","config","token","getToken","undefined","headers","Authorization","response","data","error"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,IAAMC,WAAW,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC7BC,EAAAA,OAAO,gCADsB,CAE7B;AACA;;AAH6B,CAAb,CAApB;AAMAF,WAAW,CAACG,YAAZ,CAAyBC,OAAzB,CAAiCC,GAAjC;AAAA,sEAAqC,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACjC;AACA;AACMC,YAAAA,KAH2B,GAGnBR,OAAO,CAACS,QAAR,EAHmB;;AAIjC,gBAAID,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKE,SAAhC,EAA2C;AACvCH,cAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,GAA+BJ,KAA/B;AACH;;AANgC,6CAQ1BD,MAR0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;AAWAN,WAAW,CAACG,YAAZ,CAAyBS,QAAzB,CAAkCP,GAAlC,CAAsC,UAACO,QAAD,EAAc;AAChD,MAAIA,QAAQ,IAAIA,QAAQ,CAACC,IAAT,KAAkBJ,SAAlC,EAA6C;AACzC;AACA,WAAOG,QAAQ,CAACC,IAAhB;AACH;;AAED,SAAOD,QAAP;AACH,CAPD,EAOG,UAACE,KAAD,EAAW;AACV;AACA,MAAIA,KAAK,CAACF,QAAV,EAAoB;AAChB,UAAME,KAAK,CAACF,QAAZ;AACH,GAFD,MAEO,IAAIE,KAAK,CAACV,OAAV,EAAmB;AACtB,UAAMU,KAAK,CAACV,OAAZ;AACH,GAFM,MAEA;AACH,UAAMU,KAAN;AACH;AACJ,CAhBD;AAkBA,eAAed,WAAf","sourcesContent":["import axios from 'axios';\r\nimport storage from '../Storage/Storage';\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL: `http://localhost:8080/api/v1`,\r\n    // timeout: 5000, // default is `0` (no timeout)\r\n    // responseType: 'json'\r\n});\r\n\r\naxiosClient.interceptors.request.use(async (config) => {\r\n    // Handle token here ...\r\n    // if token exists then attach token\r\n    const token = storage.getToken();\r\n    if (token !== null && token !== undefined) {\r\n        config.headers.Authorization = token;\r\n    }\r\n\r\n    return config;\r\n});\r\n\r\naxiosClient.interceptors.response.use((response) => {\r\n    if (response && response.data !== undefined) {\r\n        // only get data\r\n        return response.data;\r\n    }\r\n\r\n    return response;\r\n}, (error) => {\r\n    // Handle errors\r\n    if (error.response) {\r\n        throw error.response;\r\n    } else if (error.request) {\r\n        throw error.request;\r\n    } else {\r\n        throw error;\r\n    }\r\n});\r\n\r\nexport default axiosClient;\r\n\r\n"]},"metadata":{},"sourceType":"module"}